/*
 * popcorn.js version v1.5.11
 * http://popcornjs.org
 *
 * Copyright 2011, Mozilla Foundation
 * Licensed under the MIT license
 */

!function(){if(!document.addEventListener&&!document.removeEventListener&&!document.dispatchEvent){var e={},t=function(t,n){return t="DOMContentLoaded"===t?"readystatechange":t,Event[t.toUpperCase()]||"readystatechange"===t?void document.attachEvent("on"+t,n):(e[t]||(e[t]={events:[],queue:[],active:!1}),void(e[t].active?e[t].queue.push(n):e[t].events.push(n)))},n=function(t,n){t="DOMContentLoaded"===t?"readystatechange":t;var r=0,a=e[t];if(Event[t.toUpperCase()]||"readystatechange"===t)return void document.detachEvent("on"+t,n);if(a){for(r=a.events.length-1;r>=0;r--)n===a.events[r]&&delete a.events[r];for(r=a.queue.length-1;r>=0;r--)n===a.queue[r]&&delete a.queue[r]}},r=function(t){var n,r,a,i,o=this,s=t.type;if(s||(s=t,r=Popcorn.events.getInterface(s),r&&(n=document.createEvent(r),n.initCustomEvent(s,!0,!0,window,1))),a=e[s]){a.active=!0;for(var u=0;u<a.events.length;u++)a.events[u]&&a.events[u].call(o,n,o);if(a.queue.length)for(;a.queue.length;)i=a.queue.shift(),i&&a.events.push(i);a.active=!1,a.events.forEach(function(e){e||a.events.splice(a.events.indexOf(e),1)}),a.queue.forEach(function(e){e||a.queue.splice(a.queue.indexOf(e),1)})}};document.addEventListener=t,document.removeEventListener=n,document.dispatchEvent=r}Event.prototype.preventDefault||(Event.prototype.preventDefault=function(){this.returnValue=!1}),Event.prototype.stopPropagation||(Event.prototype.stopPropagation=function(){this.cancelBubble=!0}),window.addEventListener=window.addEventListener||function(e,t){e="on"+e,window.attachEvent(e,t)},window.removeEventListener=window.removeEventListener||function(e,t){e="on"+e,window.detachEvent(e,t)},HTMLScriptElement.prototype.addEventListener=HTMLScriptElement.prototype.addEventListener||function(e,t){e="load"===e?"onreadystatechange":"on"+e,"onreadystatechange"===e&&(t.readyStateCheck=t.readyStateCheck||function(e){"loaded"===self.readyState&&t(e)}),this.attachEvent(e,t.readyStateCheck||t)},HTMLScriptElement.prototype.removeEventListener=HTMLScriptElement.prototype.removeEventListener||function(e,t){e="load"===e?"onreadystatechange":"on"+e,this.detachEvent(e,t.readyStateCheck||t)},document.createEvent=document.createEvent||function(e){return{type:null,target:null,currentTarget:null,cancelable:!1,detail:!1,bubbles:!1,initEvent:function(e,t,n){this.type=e},initCustomEvent:function(e,t,n,r){this.type=e,this.detail=r},stopPropagation:function(){},stopImmediatePropagation:function(){}}},Array.prototype.forEach=Array.prototype.forEach||function(e,t){var n=this,r=Object.prototype.hasOwnProperty;if(!n||!e)return{};t=t||this;var a;for(a in n)r.call(n,a)&&e.call(t,n[a],a,n);return n},Array.prototype.map||(Array.prototype.map=function(e,t){var n,r,a;if(null==this)throw new TypeError("this is null or not defined");var i=Object(this),o=i.length>>>0;if("[object Function]"!={}.toString.call(e))throw new TypeError(e+" is not a function");for(t&&(n=t),r=new Array(o),a=0;o>a;){var s,u;a in i&&(s=i[a],u=e.call(n,s,a,i),r[a]=u),a++}return r}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>0&&(r=Number(arguments[1]),r!=r?r=0:0!=r&&r!=1/0&&r!=-(1/0)&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var a=r>=0?r:Math.max(n-Math.abs(r),0);n>a;a++)if(a in t&&t[a]===e)return a;return-1}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(a){if("object"!=typeof a&&("function"!=typeof a||null===a))throw new TypeError("Object.keys called on non-object");var i,o,s=[];for(i in a)e.call(a,i)&&s.push(i);if(t)for(o=0;r>o;o++)e.call(a,n[o])&&s.push(n[o]);return s}}()),Object.defineProperties||(Object.defineProperties=function(e,t){function n(t){function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(e){return"function"==typeof e}if("object"!=typeof t||null===t)throw new TypeError("bad desc");var a={};if(n(t,"enumerable")&&(a.enumerable=!!e.enumerable),n(t,"configurable")&&(a.configurable=!!t.configurable),n(t,"value")&&(a.value=e.value),n(t,"writable")&&(a.writable=!!t.writable),n(t,"get")){var i=t.get;if(!r(i)&&"undefined"!==i)throw new TypeError("bad get");a.get=i}if(n(t,"set")){var o=t.set;if(!r(o)&&"undefined"!==o)throw new TypeError("bad set");a.set=o}if(("get"in a||"set"in a)&&("value"in a||"writable"in a))throw new TypeError("identity-confused descriptor");return a}if("object"!=typeof e||null===e)throw new TypeError("bad obj");t=Object(t);for(var r=Object.keys(t),a=[],i=0;i<r.length;i++)a.push([r[i],n(t[r[i]])]);for(var i=0;i<a.length;i++)Object.defineProperty(e,a[i][0],a[i][1]);return e})}(),function(e,t){function n(e){_.put.call(this,e)}function r(e){this.parent=e,this.byStart=[{start:-1,end:-1}],this.byEnd=[{start:-1,end:-1}],this.animating=[],this.startIndex=0,this.endIndex=0,this.previousUpdateTime=-1,this.count=1}function a(e,t,n){return e[t]&&e[t]===n}function i(e,t){var n={};for(var r in e)l.call(t,r)&&l.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){return function(){if(T.plugin.debug)return e.apply(this,arguments);try{return e.apply(this,arguments)}catch(n){T.plugin.errors.push({plugin:t,thrown:n,source:e.toString()}),this.emit("pluginerror",T.plugin.errors)}}}if(t.addEventListener){var s=Array.prototype,u=Object.prototype,d=s.forEach,c=s.slice,l=u.hasOwnProperty,p=u.toString,f=e.Popcorn,v=[],h=!1,y=!1,m={events:{hash:{},apis:{}}},g=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t,n){e.setTimeout(t,16)}}(),E=function(e){return Object.keys?Object.keys(e):function(e){var t,n=[];for(t in e)l.call(e,t)&&n.push(t);return n}(e)},_={put:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}},T=function(e,t){return new T.p.init(e,t||null)};T.version="@VERSION",T.isSupported=!0,T.instances=[],T.p=T.prototype={init:function(e,n){var a,i,o=this;{if("function"!=typeof e){if("string"==typeof e)try{a=t.querySelector(e)}catch(s){throw new Error("Popcorn.js Error: Invalid media element selector: "+e)}if(this.media=a||e,i=this.media.nodeName&&this.media.nodeName.toLowerCase()||"video",this[i]=this.media,this.options=T.extend({},n)||{},this.id=this.options.id||T.guid(i),T.byId(this.id))throw new Error("Popcorn.js Error: Cannot use duplicate ID ("+this.id+")");this.isDestroyed=!1,this.data={running:{cue:[]},timeUpdate:T.nop,disabled:{},events:{},hooks:{},history:[],state:{volume:this.media.volume},trackRefs:{},trackEvents:new r(this)},T.instances.push(this);var u=function(){o.media.currentTime<0&&(o.media.currentTime=0),o.media.removeEventListener("loadedmetadata",u,!1);var e,t,n,r,a,i;e=o.media.duration,t=e!=e?Number.MAX_VALUE:e+1,T.addTrackEvent(o,{start:t,end:t}),o.isDestroyed||(o.data.durationChange=function(){var e=o.media.duration,t=e+1,n=o.data.trackEvents.byStart,r=o.data.trackEvents.byEnd;n.pop(),r.pop();for(var a=r.length-1;a>0;a--)r[a].end>e&&o.removeTrackEvent(r[a]._id);for(var i=0;i<n.length;i++)n[i].end>e&&o.removeTrackEvent(n[i]._id);o.data.trackEvents.byEnd.push({start:t,end:t}),o.data.trackEvents.byStart.push({start:t,end:t})},o.media.addEventListener("durationchange",o.data.durationChange,!1)),o.options.frameAnimation?(o.data.timeUpdate=function(){T.timeUpdate(o,{}),T.forEach(T.manifest,function(e,t){if(n=o.data.running[t]){a=n.length;for(var s=0;a>s;s++)r=n[s],i=r._natives,i&&i.frame&&i.frame.call(o,{},r,o.currentTime())}}),o.emit("timeupdate"),!o.isDestroyed&&g(o.data.timeUpdate)},!o.isDestroyed&&g(o.data.timeUpdate)):(o.data.timeUpdate=function(e){T.timeUpdate(o,e)},o.isDestroyed||o.media.addEventListener("timeupdate",o.data.timeUpdate,!1))};return o.media.addEventListener("error",function(){o.error=o.media.error},!1),o.media.readyState>=1?u():o.media.addEventListener("loadedmetadata",u,!1),this}if("complete"===t.readyState)return void e(t,T);if(v.push(e),!h){h=!0;var d=function(){y=!0,t.removeEventListener("DOMContentLoaded",d,!1);for(var e=0,n=v.length;n>e;e++)v[e].call(t,T);v=null};t.addEventListener("DOMContentLoaded",d,!1)}}}},T.p.init.prototype=T.p,T.byId=function(e){for(var t=T.instances,n=t.length,r=0;n>r;r++)if(t[r].id===e)return t[r];return null},T.forEach=function(e,t,n){if(!e||!t)return{};n=n||this;var r,a;if(d&&e.forEach===d)return e.forEach(t,n);if("[object NodeList]"===p.call(e)){for(r=0,a=e.length;a>r;r++)t.call(n,e[r],r,e);return e}for(r in e)l.call(e,r)&&t.call(n,e[r],r,e);return e},T.extend=function(e){var t=e,n=c.call(arguments,1);return T.forEach(n,function(e){for(var n in e)t[n]=e[n]}),t},T.extend(T,{noConflict:function(t){return t&&(e.Popcorn=f),T},error:function(e){throw new Error(e)},guid:function(e){return T.guid.counter++,(e?e:"")+(+new Date+T.guid.counter)},sizeOf:function(e){var t=0;for(var n in e)t++;return t},isArray:Array.isArray||function(e){return"[object Array]"===p.call(e)},nop:function(){},position:function(n){if(!n.parentNode)return null;var r,a,i,o,s,u,d=n.getBoundingClientRect(),c={},l=(n.ownerDocument,t.documentElement),p=t.body;r=l.clientTop||p.clientTop||0,a=l.clientLeft||p.clientLeft||0,i=e.pageYOffset&&l.scrollTop||p.scrollTop,o=e.pageXOffset&&l.scrollLeft||p.scrollLeft,s=Math.ceil(d.top+i-r),u=Math.ceil(d.left+o-a);for(var f in d)c[f]=Math.round(d[f]);return T.extend({},c,{top:s,left:u})},disable:function(e,t){if(!e.data.disabled[t]){if(e.data.disabled[t]=!0,t in T.registryByName&&e.data.running[t])for(var n,r=e.data.running[t].length-1;r>=0;r--)n=e.data.running[t][r],n._natives.end.call(e,null,n),e.emit("trackend",T.extend({},n,{plugin:n.type,type:"trackend"}));return e}},enable:function(e,t){if(e.data.disabled[t]){if(e.data.disabled[t]=!1,t in T.registryByName&&e.data.running[t])for(var n,r=e.data.running[t].length-1;r>=0;r--)n=e.data.running[t][r],n._natives.start.call(e,null,n),e.emit("trackstart",T.extend({},n,{plugin:n.type,type:"trackstart",track:n}));return e}},destroy:function(e){var t,n,r,a,i=e.data.events,o=e.data.trackEvents;for(n in i){t=i[n];for(r in t)delete t[r];i[n]=null}for(a in T.registryByName)T.removePlugin(e,a);o.byStart.length=0,o.byEnd.length=0,e.isDestroyed||(e.data.timeUpdate&&e.media.removeEventListener("timeupdate",e.data.timeUpdate,!1),e.isDestroyed=!0),T.instances.splice(T.instances.indexOf(e),1)}}),T.guid.counter=1,T.extend(T.p,function(){var e="load play pause currentTime playbackRate volume duration preload playbackRate autoplay loop controls muted buffered readyState seeking paused played seekable ended",t={};return T.forEach(e.split(/\s+/g),function(e){t[e]=function(t){var n;return"function"==typeof this.media[e]?(null!=t&&/play|pause/.test(e)&&(this.media.currentTime=T.util.toSeconds(t)),this.media[e](),this):null!=t?(n=this.media[e],this.media[e]=t,n!==t&&this.emit("attrchange",{attribute:e,previousValue:n,currentValue:t}),this):this.media[e]}}),t}()),T.forEach("enable disable".split(" "),function(e){T.p[e]=function(t){return T[e](this,t)}}),T.extend(T.p,{roundTime:function(){return Math.round(this.media.currentTime)},exec:function(e,t,r){var a,i,o,s=arguments.length,u="trackadded";try{i=T.util.toSeconds(e)}catch(d){}if("number"==typeof i&&(e=i),"number"==typeof e&&2===s)r=t,t=e,e=T.guid("cue");else if(1===s)t=-1;else if(a=this.getTrackEvent(e))this.data.trackEvents.remove(e),n.end(this,a),T.removeTrackEvent.ref(this,e),u="cuechange","string"==typeof e&&2===s&&("number"==typeof t&&(r=a._natives.start),"function"==typeof t&&(r=t,t=a.start));else if(s>=2){if("string"==typeof t){try{i=T.util.toSeconds(t)}catch(d){}t=i}"number"==typeof t&&(r=r||T.nop()),"function"==typeof t&&(r=t,t=-1)}return o={id:e,start:t,end:t+1,_running:!1,_natives:{start:r||T.nop,end:T.nop,type:"cue"}},a&&(o=T.extend(a,o)),"cuechange"===u?(o._id=o.id||o._id||T.guid(o._natives.type),this.data.trackEvents.add(o),n.start(this,o),this.timeUpdate(this,null,!0),T.addTrackEvent.ref(this,o),this.emit(u,T.extend({},o,{id:e,type:u,previousValue:{time:a.start,fn:a._natives.start},currentValue:{time:t,fn:r||T.nop},track:a}))):T.addTrackEvent(this,o),this},mute:function(e){var t=null==e||e===!0?"muted":"unmuted";return"unmuted"===t&&(this.media.muted=!1,this.media.volume=this.data.state.volume),"muted"===t&&(this.data.state.volume=this.media.volume,this.media.muted=!0),this.emit(t),this},unmute:function(e){return this.mute(null==e?!1:!e)},position:function(){return T.position(this.media)},toggle:function(e){return T[this.data.disabled[e]?"enable":"disable"](this,e)},defaults:function(e,t){return T.isArray(e)?(T.forEach(e,function(e){for(var t in e)this.defaults(t,e[t])},this),this):(this.options.defaults||(this.options.defaults={}),this.options.defaults[e]||(this.options.defaults[e]={}),T.extend(this.options.defaults[e],t),this)}}),T.Events={UIEvents:"blur focus focusin focusout load resize scroll unload",MouseEvents:"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave click dblclick",Events:"loadstart progress suspend emptied stalled play pause error loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange"},T.Events.Natives=T.Events.UIEvents+" "+T.Events.MouseEvents+" "+T.Events.Events,m.events.apiTypes=["UIEvents","MouseEvents","Events"],function(e,t){for(var n=m.events.apiTypes,r=e.Natives.split(/\s+/g),a=0,i=r.length;i>a;a++)t.hash[r[a]]=!0;n.forEach(function(n,r){t.apis[n]={};for(var a=e[n].split(/\s+/g),i=a.length,o=0;i>o;o++)t.apis[n][a[o]]=!0})}(T.Events,m.events),T.events={isNative:function(e){return!!m.events.hash[e]},getInterface:function(e){if(!T.events.isNative(e))return!1;for(var t,n,r=m.events,a=r.apiTypes,i=r.apis,o=0,s=a.length;s>o;o++)if(n=a[o],i[n][e]){t=n;break}return t},all:T.Events.Natives.split(/\s+/g),fn:{trigger:function(n,r){var a,i,o,s=this.data.events[n];if(s){if(a=T.events.getInterface(n))return i=t.createEvent(a),i.initEvent(n,!0,!0,e,1),this.media.dispatchEvent(i),this;for(o=s.slice();o.length;)o.shift().call(this,r)}return this},listen:function(e,t){var n,r,a=this,i=!0,o=T.events.hooks[e];if("function"!=typeof t)throw new Error("Popcorn.js Error: Listener is not a function");return this.data.events[e]||(this.data.events[e]=[],i=!1),o&&(o.add&&o.add.call(this,{},t),o.bind&&(e=o.bind),o.handler&&(r=t,t=function(e){o.handler.call(a,e,r)}),i=!0,this.data.events[e]||(this.data.events[e]=[],i=!1)),this.data.events[e].push(t),!i&&T.events.all.indexOf(e)>-1&&this.media.addEventListener(e,function(t){if(a.data.events[e])for(n=a.data.events[e].slice();n.length;)n.shift().call(a,t)},!1),this},unlisten:function(e,t){var n,r=this.data.events[e];if(r){if("string"==typeof t){for(var a=0;a<r.length;a++)r[a].name===t&&r.splice(a--,1);return this}if("function"==typeof t){for(;-1!==n;)n=r.indexOf(t),-1!==n&&r.splice(n,1);return this}return this.data.events[e]=null,this}}},hooks:{canplayall:{bind:"canplaythrough",add:function(e,t){var n=!1;this.media.readyState&&(setTimeout(function(){t.call(this,e)}.bind(this),0),n=!0),this.data.hooks.canplayall={fired:n}},handler:function(e,t){this.data.hooks.canplayall.fired||(t.call(this,e),this.data.hooks.canplayall.fired=!0)}}}},T.forEach([["trigger","emit"],["listen","on"],["unlisten","off"]],function(e){T.p[e[0]]=T.p[e[1]]=T.events.fn[e[0]]}),n.start=function(e,t){t.end>e.media.currentTime&&t.start<=e.media.currentTime&&!t._running&&(t._running=!0,e.data.running[t._natives.type].push(t),e.data.disabled[t._natives.type]||(t._natives.start.call(e,null,t),e.emit("trackstart",T.extend({},t,{plugin:t._natives.type,type:"trackstart",track:t}))))},n.end=function(e,t){var n;(t.end<=e.media.currentTime||t.start>e.media.currentTime)&&t._running&&(n=e.data.running[t._natives.type],t._running=!1,n.splice(n.indexOf(t),1),e.data.disabled[t._natives.type]||(t._natives.end.call(e,null,t),e.emit("trackend",T.extend({},t,{plugin:t._natives.type,type:"trackend",track:t}))))},r.prototype.where=function(e){return(this.parent.getTrackEvents()||[]).filter(function(t){var n,r;if(!e)return!0;for(n in e)if(r=e[n],a(t,n,r)||a(t._natives,n,r))return!0;return!1})},r.prototype.add=function(e){var t,n,r=this.byStart,a=this.byEnd;for(e&&e._id&&this.parent.data.history.push(e._id),e.start=T.util.toSeconds(e.start,this.parent.options.framerate),e.end=T.util.toSeconds(e.end,this.parent.options.framerate),t=r.length-1;t>=0;t--)if(e.start>=r[t].start){r.splice(t+1,0,e);break}for(n=a.length-1;n>=0;n--)if(e.end>a[n].end){a.splice(n+1,0,e);break}t<=this.parent.data.trackEvents.startIndex&&e.start<=this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.startIndex++,n<=this.parent.data.trackEvents.endIndex&&e.end<this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.endIndex++,this.count++},r.prototype.remove=function(e,t){if(e instanceof n&&(e=e.id),"object"==typeof e)return this.where(e).forEach(function(e){this.removeTrackEvent(e._id)},this.parent),this;var r,a,i,o,s,u=this.byStart.length,d=0,c=0,l=[],p=[],f=[],v=[];for(t=t||{};--u>-1;)r=this.byStart[d],a=this.byEnd[d],r._id||(l.push(r),p.push(a)),r._id&&(r._id!==e&&l.push(r),a._id!==e&&p.push(a),r._id===e&&(c=d,s=r)),d++;if(u=this.animating.length,d=0,u)for(;--u>-1;)i=this.animating[d],i._id||f.push(i),i._id&&i._id!==e&&f.push(i),d++;c<=this.startIndex&&this.startIndex--,c<=this.endIndex&&this.endIndex--,this.byStart=l,this.byEnd=p,this.animating=f,this.count--,o=this.parent.data.history.length;for(var h=0;o>h;h++)this.parent.data.history[h]!==e&&v.push(this.parent.data.history[h]);this.parent.data.history=v},T.addTrackEvent=function(e,t){var r;t instanceof n||(t=new n(t),t&&t._natives&&t._natives.type&&e.options.defaults&&e.options.defaults[t._natives.type]&&(r=T.extend({},t),T.extend(t,e.options.defaults[t._natives.type],r)),t._natives&&(t._id=t.id||t._id||T.guid(t._natives.type),t._natives._setup&&(t._natives._setup.call(e,t),e.emit("tracksetup",T.extend({},t,{plugin:t._natives.type,type:"tracksetup",track:t})))),e.data.trackEvents.add(t),n.start(e,t),this.timeUpdate(e,null,!0),t._id&&T.addTrackEvent.ref(e,t),e.emit("trackadded",T.extend({},t,t._natives?{plugin:t._natives.type}:{},{type:"trackadded",track:t})))},T.addTrackEvent.ref=function(e,t){return e.data.trackRefs[t._id]=t,e},T.removeTrackEvent=function(e,t){var n=e.getTrackEvent(t);n&&(n._natives._teardown&&n._natives._teardown.call(e,n),e.data.trackEvents.remove(t),T.removeTrackEvent.ref(e,t),n._natives&&e.emit("trackremoved",T.extend({},n,{plugin:n._natives.type,type:"trackremoved",track:n})))},T.removeTrackEvent.ref=function(e,t){return delete e.data.trackRefs[t],e},T.getTrackEvents=function(e){for(var t,n=[],r=e.data.trackEvents.byStart,a=r.length,i=0;a>i;i++)t=r[i],t._id&&n.push(t);return n},T.getTrackEvents.ref=function(e){return e.data.trackRefs},T.getTrackEvent=function(e,t){return e.data.trackRefs[t]},T.getTrackEvent.ref=function(e,t){return e.data.trackRefs[t]},T.getLastTrackEventId=function(e){return e.data.history[e.data.history.length-1]},T.timeUpdate=function(e,t){var n,r,a,i,o,s=e.media.currentTime,u=e.data.trackEvents.previousUpdateTime,d=e.data.trackEvents,c=d.endIndex,l=d.startIndex,p=d.byStart.length,f=d.byEnd.length,v=T.registryByName,h="trackstart",y="trackend";if(s>=u){for(;d.byEnd[c]&&d.byEnd[c].end<=s;){if(n=d.byEnd[c],a=n._natives,i=a&&a.type,a&&!v[i]&&!e[i])return void T.removeTrackEvent(e,n._id);n._running===!0&&(n._running=!1,o=e.data.running[i],o.splice(o.indexOf(n),1),e.data.disabled[i]||(a.end.call(e,t,n),e.emit(y,T.extend({},n,{plugin:i,type:y,track:n})))),c++}for(;d.byStart[l]&&d.byStart[l].start<=s;){if(r=d.byStart[l],a=r._natives,i=a&&a.type,a&&!v[i]&&!e[i])return void T.removeTrackEvent(e,r._id);r.end>s&&r._running===!1&&(r._running=!0,e.data.running[i].push(r),e.data.disabled[i]||(a.start.call(e,t,r),e.emit(h,T.extend({},r,{plugin:i,type:h,track:r})))),l++}}else if(u>s){for(;d.byStart[l]&&d.byStart[l].start>s;){if(r=d.byStart[l],a=r._natives,i=a&&a.type,a&&!v[i]&&!e[i])return void T.removeTrackEvent(e,r._id);r._running===!0&&(r._running=!1,o=e.data.running[i],o.splice(o.indexOf(r),1),e.data.disabled[i]||(a.end.call(e,t,r),e.emit(y,T.extend({},r,{plugin:i,type:y,track:r})))),l--}for(;d.byEnd[c]&&d.byEnd[c].end>s;){if(n=d.byEnd[c],a=n._natives,i=a&&a.type,a&&!v[i]&&!e[i])return void T.removeTrackEvent(e,n._id);n.start<=s&&n._running===!1&&(n._running=!0,e.data.running[i].push(n),e.data.disabled[i]||(a.start.call(e,t,n),e.emit(h,T.extend({},n,{plugin:i,type:h,track:n})))),c--}}d.endIndex=c,d.startIndex=l,d.previousUpdateTime=s,d.byStart.length<p&&d.startIndex--,d.byEnd.length<f&&d.endIndex--},T.extend(T.p,{getTrackEvents:function(){return T.getTrackEvents.call(null,this)},getTrackEvent:function(e){return T.getTrackEvent.call(null,this,e)},getLastTrackEventId:function(){return T.getLastTrackEventId.call(null,this)},removeTrackEvent:function(e){return T.removeTrackEvent.call(null,this,e),this},removePlugin:function(e){return T.removePlugin.call(null,this,e),this},timeUpdate:function(e){return T.timeUpdate.call(null,this,e),this},destroy:function(){return T.destroy.call(null,this),this}}),T.manifest={},T.registry=[],T.registryByName={},T.plugin=function(e,t,r){if(T.protect.natives.indexOf(e.toLowerCase())>=0)return void T.error("'"+e+"' is a protected function name");var a="function"==typeof t,s=["start","end","type","manifest"],u=["_setup","_teardown","start","end","frame"],d={},p=function(e,t){return e=e||T.nop,t=t||T.nop,function(){e.apply(this,arguments),t.apply(this,arguments)}};T.manifest[e]=r=r||t.manifest||{},u.forEach(function(n){t[n]=o(t[n]||T.nop,e)});var f=function(t,a){if(!a)return this;if(a.ranges&&T.isArray(a.ranges))return T.forEach(a.ranges,function(t){var n=T.extend({},a,t);delete n.ranges,this[e](n)},this),this;var i,o=a._natives={},d="";return T.extend(o,t),a._natives.type=a._natives.plugin=e,a._running=!1,o.start=o.start||o["in"],o.end=o.end||o.out,a.once&&(o.end=p(o.end,function(){this.removeTrackEvent(a._id)})),o._teardown=p(function(){var e=c.call(arguments),t=this.data.running[o.type];e.unshift(null),e[1]._running&&t.splice(t.indexOf(a),1)&&o.end.apply(this,e),e[1]._running=!1,this.emit("trackend",T.extend({},a,{plugin:o.type,type:"trackend",track:T.getTrackEvent(this,a.id||a._id)}))},o._teardown),o._teardown=p(o._teardown,function(){this.emit("trackteardown",T.extend({},a,{plugin:e,type:"trackteardown",track:T.getTrackEvent(this,a.id||a._id)}))}),a.compose=a.compose||[],"string"==typeof a.compose&&(a.compose=a.compose.split(" ")),a.effect=a.effect||[],"string"==typeof a.effect&&(a.effect=a.effect.split(" ")),a.compose=a.compose.concat(a.effect),a.compose.forEach(function(e){d=T.compositions[e]||{},u.forEach(function(e){o[e]=p(o[e],d[e])})}),a._natives.manifest=r,"start"in a||(a.start=a["in"]||0),a.end||0===a.end||(a.end=a.out||Number.MAX_VALUE),l.call(a,"toString")||(a.toString=function(){var t=["start: "+a.start,"end: "+a.end,"id: "+(a.id||a._id)];return null!=a.target&&t.push("target: "+a.target),e+" ( "+t.join(", ")+" )"}),a.target||(i="options"in r&&r.options,a.target=i&&"target"in i&&i.target),!a._id&&a._natives&&(a._id=T.guid(a._natives.type)),a instanceof n?(a._natives&&(a._id=a.id||a._id||T.guid(a._natives.type),a._natives._setup&&(a._natives._setup.call(this,a),this.emit("tracksetup",T.extend({},a,{plugin:a._natives.type,type:"tracksetup",track:a})))),this.data.trackEvents.add(a),n.start(this,a),this.timeUpdate(this,null,!0),a._id&&T.addTrackEvent.ref(this,a)):T.addTrackEvent(this,a),T.forEach(t,function(e,t){-1===s.indexOf(t)&&this.on(t,e)},this),this};T.p[e]=d[e]=function(r,o){var s,u,d,c,p;arguments.length;if(r&&!o)o=r,r=null;else{if(s=this.getTrackEvent(r))return p=o,c=i(s,p),s._natives._update?(this.data.trackEvents.remove(s),l.call(o,"start")&&(s.start=o.start),l.call(o,"end")&&(s.end=o.end),n.end(this,s),a&&t.call(this,s),s._natives._update.call(this,s,o),this.data.trackEvents.add(s),n.start(this,s),"cue"!==s._natives.type&&this.emit("trackchange",{id:s.id,type:"trackchange",previousValue:c,currentValue:p,track:s}),this):(T.extend(s,o),this.data.trackEvents.remove(r),s._natives._teardown&&s._natives._teardown.call(this,s),T.removeTrackEvent.ref(this,r),a?f.call(this,t.call(this,s),s):(s._id=s.id||s._id||T.guid(s._natives.type),s._natives&&s._natives._setup&&(s._natives._setup.call(this,s),this.emit("tracksetup",T.extend({},s,{plugin:s._natives.type,type:"tracksetup",track:s}))),this.data.trackEvents.add(s),n.start(this,s),this.timeUpdate(this,null,!0),T.addTrackEvent.ref(this,s)),this.emit("trackchange",{id:s.id,type:"trackchange",previousValue:c,currentValue:s,track:s}),this);o.id=r}return this.data.running[e]=this.data.running[e]||[],u=this.options.defaults&&this.options.defaults[e]||{},d=T.extend({},u,o),f.call(this,a?t.call(this,d):t,d),this},r&&T.extend(t,{manifest:r});var v={fn:d[e],definition:t,base:t,parents:[],name:e};return T.registry.push(T.extend(d,v,{type:e})),T.registryByName[e]=v,d},T.plugin.errors=[],T.plugin.debug="@VERSION"===T.version,T.removePlugin=function(e,t){if(!t){if(t=e,e=T.p,T.protect.natives.indexOf(t.toLowerCase())>=0)return void T.error("'"+t+"' is a protected function name");var n,r=T.registry.length;for(n=0;r>n;n++)if(T.registry[n].name===t)return T.registry.splice(n,1),delete T.registryByName[t],delete T.manifest[t],void delete e[t]}var a,i,o=e.data.trackEvents.byStart,s=e.data.trackEvents.byEnd,u=e.data.trackEvents.animating;for(a=0,i=o.length;i>a;a++)o[a]&&o[a]._natives&&o[a]._natives.type===t&&(o[a]._natives._teardown&&o[a]._natives._teardown.call(e,o[a]),o.splice(a,1),a--,i--,e.data.trackEvents.startIndex<=a&&(e.data.trackEvents.startIndex--,e.data.trackEvents.endIndex--)),s[a]&&s[a]._natives&&s[a]._natives.type===t&&s.splice(a,1);for(a=0,i=u.length;i>a;a++)u[a]&&u[a]._natives&&u[a]._natives.type===t&&(u.splice(a,1),a--,i--)},T.compositions={},T.compose=function(e,t,n){T.manifest[e]=n=n||t.manifest||{},T.compositions[e]=t},T.plugin.effect=T.effect=T.compose;var b=/^(?:\.|#|\[)/;T.dom={debug:!1,find:function(e,n){var r=null;if(n=n||t,e){if(!b.test(e)&&(r=t.getElementById(e),null!==r))return r;try{r=n.querySelector(e)}catch(a){if(T.dom.debug)throw new Error(a)}}return r}};var k=/\?/,w={ajax:null,url:"",data:"",dataType:"",success:T.nop,type:"GET",async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8"};T.xhr=function(e){var t;return e.dataType=e.dataType&&e.dataType.toLowerCase()||null,!e.dataType||"jsonp"!==e.dataType&&"script"!==e.dataType?(t=T.extend({},w,e),t.ajax=new XMLHttpRequest,t.ajax?("GET"===t.type&&t.data&&(t.url+=(k.test(t.url)?"&":"?")+t.data,t.data=null),t.ajax.open(t.type,t.url,t.async),"POST"===t.type&&t.ajax.setRequestHeader("Content-Type",t.contentType),t.ajax.send(t.data||null),T.xhr.httpData(t)):void 0):void T.xhr.getJSONP(e.url,e.success,"script"===e.dataType)},T.xhr.httpData=function(e){var t,n,r=null,a=null;return e.ajax.onreadystatechange=function(){if(4===e.ajax.readyState){try{r=JSON.parse(e.ajax.responseText)}catch(i){}if(t={xml:e.ajax.responseXML,text:e.ajax.responseText,json:r},!t.xml||!t.xml.documentElement){t.xml=null;try{n=new DOMParser,a=n.parseFromString(e.ajax.responseText,"text/xml"),a.getElementsByTagName("parsererror").length||(t.xml=a)}catch(i){}}e.dataType&&(t=t[e.dataType]),e.success.call(e.ajax,t)}},t},T.xhr.getJSONP=function(e,n,r){var a,i,o,s=t.head||t.getElementsByTagName("head")[0]||t.documentElement,u=t.createElement("script"),d=!1,c=[],l=/(=)\?(?=&|$)|\?\?/;r||(o=e.match(/(callback=[^&]*)/),null!==o&&o.length?(a=o[1].split("=")[1],"?"===a&&(a="jsonp"),i=T.guid(a),e=e.replace(/(callback=[^&]*)/,"callback="+i)):(i=T.guid("jsonp"),l.test(e)&&(e=e.replace(l,"$1"+i)),c=e.split(/\?(.+)?/),e=c[0]+"?",c[1]&&(e+=c[1]+"&"),e+="callback="+i),window[i]=function(e){n&&n(e),d=!0}),u.addEventListener("load",function(){r&&n&&n(),d&&delete window[i],s.removeChild(u)},!1),u.addEventListener("error",function(e){n&&n({error:e}),r||delete window[i],s.removeChild(u)},!1),u.src=e,s.insertBefore(u,s.firstChild)},T.getJSONP=T.xhr.getJSONP,T.getScript=T.xhr.getScript=function(e,t){return T.xhr.getJSONP(e,t,!0)},T.util={toSeconds:function(e,t){var n,r,a,i,o,s,u=/^([0-9]+:){0,2}[0-9]+([.;][0-9]+)?$/,d="Invalid time format";return"number"==typeof e?e:("string"!=typeof e||u.test(e)||T.error(d),n=e.split(":"),r=n.length-1,a=n[r],a.indexOf(";")>-1&&(o=a.split(";"),s=0,t&&"number"==typeof t&&(s=parseFloat(o[1],10)/t),n[r]=parseInt(o[0],10)+s),i=n[0],{1:parseFloat(i,10),2:60*parseInt(i,10)+parseFloat(n[1],10),3:3600*parseInt(i,10)+60*parseInt(n[1],10)+parseFloat(n[2],10)}[n.length||1])}},T.p.cue=T.p.exec,T.protect={natives:E(T.p).map(function(e){return e.toLowerCase()})},T.forEach({listen:"on",unlisten:"off",trigger:"emit",exec:"cue"},function(e,t){var n=T.p[t];T.p[t]=function(){return"undefined"!=typeof console&&console.warn&&(console.warn("Deprecated method '"+t+"', "+(null==e?"do not use.":"use '"+e+"' instead.")),T.p[t]=n),T.p[e].apply(this,[].slice.call(arguments))}}),e.Popcorn=T}else{e.Popcorn={isSupported:!1};for(var S="byId forEach extend effects error guid sizeOf isArray nop position disable enable destroyaddTrackEvent removeTrackEvent getTrackEvents getTrackEvent getLastTrackEventId timeUpdate plugin removePlugin compose effect xhr getJSONP getScript".split(/\s+/);S.length;)e.Popcorn[S.shift()]=function(){}}}(window,window.document),function(e){var t=function(t,n){return t=t||e.nop,n=n||e.nop,function(){t.apply(this,arguments),n.apply(this,arguments)}};e.player=function(n,r){if(!e[n]){r=r||{};var a=function(n,a,i){i=i||{};var o,s,u=new Date/1e3,d=u,c=0,l=0,p=1,f=!1,v={},h="string"==typeof n?e.dom.find(n):n,y={};Object.prototype.__defineGetter__||(y=h||document.createElement("div"));for(var m in h)m in y||("object"==typeof h[m]?y[m]=h[m]:"function"==typeof h[m]?y[m]=function(e){return"length"in h[e]&&!h[e].call?h[e]:function(){return h[e].apply(h,arguments)}}(m):e.player.defineProperty(y,m,{get:function(e){return function(){return h[e]}}(m),set:e.nop,configurable:!0}));var g=function(){u=new Date/1e3,y.paused||(y.currentTime=y.currentTime+(u-d),y.dispatchEvent("timeupdate"),o=setTimeout(g,10)),d=u};return y.play=function(){this.paused=!1,y.readyState>=4&&(d=new Date/1e3,y.dispatchEvent("play"),g())},y.pause=function(){this.paused=!0,y.dispatchEvent("pause")},e.player.defineProperty(y,"currentTime",{get:function(){return c},set:function(e){return c=+e,y.dispatchEvent("timeupdate"),c},configurable:!0}),e.player.defineProperty(y,"volume",{get:function(){return p},set:function(e){return p=+e,y.dispatchEvent("volumechange"),p},configurable:!0}),e.player.defineProperty(y,"muted",{get:function(){return f},set:function(e){return f=+e,y.dispatchEvent("volumechange"),f},configurable:!0}),e.player.defineProperty(y,"readyState",{get:function(){return l},set:function(e){return l=e},configurable:!0}),y.addEventListener=function(e,t){return v[e]||(v[e]=[]),v[e].push(t),t},y.removeEventListener=function(e,t){var n,r=v[e];if(r){for(n=v[e].length-1;n>=0;n--)t===r[n]&&r.splice(n,1);return t}},y.dispatchEvent=function(t){var n,r,a=this,i=t.type;if(i||(i=t,r=e.events.getInterface(i),r&&(n=document.createEvent(r),n.initEvent(i,!0,!0,window,1))),v[i])for(var o=v[i].length-1;o>=0;o--)v[i][o].call(a,n,a)},y.src=a||"",y.duration=0,y.paused=!0,y.ended=0,i&&i.events&&e.forEach(i.events,function(e,t){y.addEventListener(t,e,!1)}),r._canPlayType(h.nodeName,a)!==!1?r._setup?r._setup.call(y,i):(y.readyState=4,y.dispatchEvent("loadedmetadata"),y.dispatchEvent("loadeddata"),y.dispatchEvent("canplaythrough")):setTimeout(function(){y.dispatchEvent("error")},0),s=new e.p.init(y,i),r._teardown&&(s.destroy=t(s.destroy,function(){r._teardown.call(y,i)})),s};a.canPlayType=r._canPlayType=r._canPlayType||e.nop,e[n]=e.player.registry[n]=a}},e.player.registry={},e.player.defineProperty=Object.defineProperty||function(t,n,r){
t.__defineGetter__(n,r.get||e.nop),t.__defineSetter__(n,r.set||e.nop)},e.player.playerQueue=function(){var e=[],t=!1;return{next:function(){t=!1,e.shift(),e[0]&&e[0]()},add:function(n){e.push(function(){t=!0,n&&n()}),!t&&e[0]()}}},e.smart=function(t,n,r){var a,i,o,s,u,d,c,l="string"==typeof t?e.dom.find(t):t,p="HTMLYouTubeVideoElement HTMLVimeoVideoElement HTMLSoundCloudAudioElement HTMLNullVideoElement".split(" ");if(!l)return void e.error("Specified target `"+t+"` was not found.");for(n="string"==typeof n?[n]:n,a=0,c=n.length;c>a;a++){for(i=n[a],o=0;o<p.length;o++)if(u=e[p[o]],u&&"probably"===u._canPlaySrc(i))return s=u(l),d=e(s,r),setTimeout(function(){s.src=i},0),d;for(var f in e.player.registry)if(e.player.registry.hasOwnProperty(f)&&e.player.registry[f].canPlayType(l.nodeName,i))return e[f](l,i,r)}var v,h,y=e.guid("popcorn-video-"),m=document.createElement("div");if(m.style.width="100%",m.style.height="100%",1===n.length)return h=document.createElement("video"),h.id=y,l.appendChild(h),setTimeout(function(){var e=document.createElement("div");e.innerHTML=n[0],h.src=e.firstChild.nodeValue},0),e("#"+y,r);for(l.appendChild(m),v='<video id="'+y+'" preload=auto autobuffer>',a=0,c=n.length;c>a;a++)v+='<source src="'+n[a]+'">';return v+="</video>",m.innerHTML=v,r&&r.events&&r.events.error&&l.addEventListener("error",r.events.error,!1),e("#"+y,r)}}(Popcorn),function(e,t){var n=function(e,n){return"string"==typeof n&&t.HTMLYouTubeVideoElement._canPlaySrc(n)};t.player("youtube",{_canPlayType:n}),t.youtube=function(e,n,r){"undefined"!=typeof console&&console.warn&&console.warn("Deprecated player 'youtube'. Please use Popcorn.HTMLYouTubeVideoElement directly.");var a=t.HTMLYouTubeVideoElement(e),i=t(a,r);return setTimeout(function(){a.src=n},0),i},t.youtube.canPlayType=n}(window,Popcorn),function(e){e.plugin("footnote",{manifest:{about:{name:"Popcorn Footnote Plugin",version:"0.2",author:"@annasob, @rwaldron",website:"annasob.wordpress.com"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},text:{elem:"input",type:"text",label:"Text"},target:"footnote-container"}},_setup:function(t){var n=e.dom.find(t.target);t._container=document.createElement("div"),t._container.style.display="none",t._container.innerHTML=t.text,n.appendChild(t._container)},start:function(e,t){t._container.style.display="inline"},end:function(e,t){t._container.style.display="none"},_teardown:function(t){var n=e.dom.find(t.target);n&&n.removeChild(t._container)}})}(Popcorn),function(e,t){function n(e){for(var t=n.options,r=t.parser[t.strictMode?"strict":"loose"].exec(e),a={},i=14;i--;)a[t.key[i]]=r[i]||"";return a[t.q.name]={},a[t.key[12]].replace(t.q.parser,function(e,n,r){n&&(a[t.q.name][n]=r)}),a}function r(){var r,i={};return Object.prototype.__defineGetter__||(i=t.createElement("div")),i._util={type:"HTML5",TIMEUPDATE_MS:250,MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(e){return"string"==typeof e||e===!0},parseUri:n},i.addEventListener=function(e,n,r){t.addEventListener(this._eventNamespace+e,n,r)},i.removeEventListener=function(e,n,r){t.removeEventListener(this._eventNamespace+e,n,r)},i.dispatchEvent=function(e){var n=t.createEvent("CustomEvent"),r={type:e,target:this.parentNode,data:null};n.initCustomEvent(this._eventNamespace+e,!1,!1,r),t.dispatchEvent(n)},i.load=e.nop,i.canPlayType=function(e){return""},i.getBoundingClientRect=function(){return r.getBoundingClientRect()},i.NETWORK_EMPTY=0,i.NETWORK_IDLE=1,i.NETWORK_LOADING=2,i.NETWORK_NO_SOURCE=3,i.HAVE_NOTHING=0,i.HAVE_METADATA=1,i.HAVE_CURRENT_DATA=2,i.HAVE_FUTURE_DATA=3,i.HAVE_ENOUGH_DATA=4,Object.defineProperties(i,{currentSrc:{get:function(){return void 0!==this.src?this.src:""},configurable:!0},parentNode:{get:function(){return r},set:function(e){r=e},configurable:!0},preload:{get:function(){return"auto"},set:e.nop,configurable:!0},controls:{get:function(){return!0},set:e.nop,configurable:!0},poster:{get:function(){return""},set:e.nop,configurable:!0},crossorigin:{get:function(){return""},configurable:!0},played:{get:function(){return a},configurable:!0},seekable:{get:function(){return a},configurable:!0},buffered:{get:function(){return a},configurable:!0},defaultMuted:{get:function(){return!1},configurable:!0},defaultPlaybackRate:{get:function(){return 1},configurable:!0},style:{get:function(){return this.parentNode.style},configurable:!0},id:{get:function(){return this.parentNode.id},configurable:!0}}),i}n.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var a={length:0,start:e.nop,end:e.nop};window.MediaError=window.MediaError||function(){function e(e,t){this.code=e||null,this.message=t||""}return e.MEDIA_ERR_NONE_ACTIVE=0,e.MEDIA_ERR_ABORTED=1,e.MEDIA_ERR_NETWORK=2,e.MEDIA_ERR_DECODE=3,e.MEDIA_ERR_NONE_SUPPORTED=4,e}(),e._MediaElementProto=r}(Popcorn,window.document),function(e,t){function n(e){for(var t=n.options,r=t.parser[t.strictMode?"strict":"loose"].exec(e),a={},i=14;i--;)a[t.key[i]]=r[i]||"";return a[t.q.name]={},a[t.key[12]].replace(t.q.parser,function(e,n,r){n&&(a[t.q.name][n]=r)}),a}function r(){var r,i={};return Object.prototype.__defineGetter__||(i=t.createElement("div")),i._util={type:"HTML5",TIMEUPDATE_MS:250,MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(e){return"string"==typeof e||e===!0},parseUri:n},i.addEventListener=function(e,n,r){t.addEventListener(this._eventNamespace+e,n,r)},i.removeEventListener=function(e,n,r){t.removeEventListener(this._eventNamespace+e,n,r)},i.dispatchEvent=function(e){var n=t.createEvent("CustomEvent"),r={type:e,target:this.parentNode,data:null};n.initCustomEvent(this._eventNamespace+e,!1,!1,r),t.dispatchEvent(n)},i.load=e.nop,i.canPlayType=function(e){return""},i.getBoundingClientRect=function(){return r.getBoundingClientRect()},i.NETWORK_EMPTY=0,i.NETWORK_IDLE=1,i.NETWORK_LOADING=2,i.NETWORK_NO_SOURCE=3,i.HAVE_NOTHING=0,i.HAVE_METADATA=1,i.HAVE_CURRENT_DATA=2,i.HAVE_FUTURE_DATA=3,i.HAVE_ENOUGH_DATA=4,Object.defineProperties(i,{currentSrc:{get:function(){return void 0!==this.src?this.src:""},configurable:!0},parentNode:{get:function(){return r},set:function(e){r=e},configurable:!0},preload:{get:function(){return"auto"},set:e.nop,configurable:!0},controls:{get:function(){return!0},set:e.nop,configurable:!0},poster:{get:function(){return""},set:e.nop,configurable:!0},crossorigin:{get:function(){return""},configurable:!0},played:{get:function(){return a},configurable:!0},seekable:{get:function(){return a},configurable:!0},buffered:{get:function(){return a},configurable:!0},defaultMuted:{get:function(){return!1},configurable:!0},defaultPlaybackRate:{get:function(){return 1},configurable:!0},style:{get:function(){return this.parentNode.style},configurable:!0},id:{get:function(){return this.parentNode.id},configurable:!0}}),i}n.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var a={length:0,start:e.nop,end:e.nop};window.MediaError=window.MediaError||function(){function e(e,t){this.code=e||null,this.message=t||""}return e.MEDIA_ERR_NONE_ACTIVE=0,e.MEDIA_ERR_ABORTED=1,e.MEDIA_ERR_NETWORK=2,e.MEDIA_ERR_DECODE=3,e.MEDIA_ERR_NONE_SUPPORTED=4,e}(),e._MediaElementProto=r}(Popcorn,window.document),function(e,t,n){function r(){var e;if(YT.loaded)for(l=!0;f.length;)(e=f.shift())();else setTimeout(r,250)}function a(){var e;return p||(t.YT?r():(e=n.createElement("script"),e.addEventListener("load",r,!1),e.src="https://www.youtube.com/iframe_api",n.head.appendChild(e)),p=!0),l}function i(e){f.push(e)}function o(r){function o(e){X.push(e)}function l(){C.pauseVideo(),E("play",l),g("play",I)}function p(){g("pause",L),E("pause",p)}function f(e){var t=function(){C.isMuted()?(g("play",m),C.playVideo()):setTimeout(t,0)};G=!0,C.mute(),t()}function v(e){var t={name:"MediaError"};switch(e.data){case 2:t.message="Invalid video parameter.",t.code=MediaError.MEDIA_ERR_ABORTED;break;case 5:t.message="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",t.code=MediaError.MEDIA_ERR_DECODE;case 100:t.message="Video not found.",t.code=MediaError.MEDIA_ERR_NETWORK;break;case 101:case 150:t.message="Video not usable.",t.code=MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED;break;default:t.message="Unknown error.",t.code=5}F.error=t,q.dispatchEvent("error")}function h(){for(g("play",I),g("pause",L),!F.autoplay&&F.paused||(E("play",h),F.paused=!1,o(function(){F.paused||I()})),F.muted||C.unMute(),F.readyState=q.HAVE_METADATA,q.dispatchEvent("loadedmetadata"),j=setInterval(S,s),q.dispatchEvent("loadeddata"),F.readyState=q.HAVE_FUTURE_DATA,q.dispatchEvent("canplay"),K=!0,V=setInterval(x,50);X.length;)X[0](),X.shift();F.readyState=q.HAVE_ENOUGH_DATA,q.dispatchEvent("canplaythrough")}function y(){return E("pause",y),C.getCurrentTime()>0?void setTimeout(y,0):void(F.autoplay||!F.paused?(g("play",h),C.playVideo()):h())}function m(){return E("play",m),0===C.getCurrentTime()?void setTimeout(m,0):(g("pause",y),C.seekTo(0),void C.pauseVideo())}function g(e,t){q.addEventListener("youtube-"+e,t,!1)}function E(e,t){q.removeEventListener("youtube-"+e,t,!1)}function _(e){q.dispatchEvent("youtube-"+e)}function T(){F.networkState=q.NETWORK_LOADING;var e=C.getDuration();F.duration!==e&&(F.duration=e,q.dispatchEvent("durationchange")),q.dispatchEvent("waiting")}function b(e){switch(e.data){case YT.PlayerState.ENDED:_("ended");break;case YT.PlayerState.PLAYING:_("play");break;case YT.PlayerState.PAUSED:C.getDuration()!==C.getCurrentTime()&&_("pause");break;case YT.PlayerState.BUFFERING:_("buffering");break;case YT.PlayerState.CUED:}e.data!==YT.PlayerState.BUFFERING&&$===YT.PlayerState.BUFFERING&&A(),$=e.data}function k(){G&&C&&(E("buffering",T),E("ended",R),E("play",I),E("pause",L),L(),K=!1,W=!1,F.currentTime=0,X=[],clearInterval(j),clearInterval(V),C.stopVideo(),C.clearVideo(),C.destroy(),B=n.createElement("div"))}function w(e){if(!q._canPlaySrc(e))return F.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},void q.dispatchEvent("error");if(F.src=e,!a())return void i(function(){w(e)});if(G){if(!K)return void o(function(){w(e)});k()}Y.appendChild(B);var n=q._util.parseUri(e).queryKey;delete n.v,F.autoplay="1"===n.autoplay||F.autoplay,delete n.autoplay,F.loop="1"===n.loop||F.loop,delete n.loop,n.rel=n.rel||0,n.modestbranding=n.modestbranding||1,n.iv_load_policy=n.iv_load_policy||3,n.disablekb=n.disablekb||1,n.showinfo=n.showinfo||0;var r="file:"===t.location.protocol?"*":t.location.protocol+"//"+t.location.host;n.origin=n.origin||r,n.controls=n.controls||F.controls?2:0,F.controls=n.controls,n.wmode=n.wmode||"opaque",0!==n.html5&&(n.html5=1),e=d.exec(e)[1],C=new YT.Player(B,{width:"100%",height:"100%",wmode:n.wmode,videoId:e,playerVars:n,events:{onReady:f,onError:v,onStateChange:b}}),F.networkState=q.NETWORK_LOADING,q.dispatchEvent("loadstart"),q.dispatchEvent("progress")}function S(){var e=C.getCurrentTime();F.seeking?c(e-F.currentTime)<1&&P():(c(F.currentTime-e)>s&&(M(),P()),F.currentTime=e)}function x(){var e=C.getVideoLoadedFraction();e&&z!==e&&(z=e,A())}function O(e){if(e!==F.currentTime){if(F.currentTime=e,!K)return void o(function(){M(),C.seekTo(e)});M(),C.seekTo(e)}}function N(){q.dispatchEvent("timeupdate")}function M(){g("pause",p),E("pause",L),F.seeking=!0,q.dispatchEvent("seeking")}function P(){F.ended=!1,F.seeking=!1,q.dispatchEvent("timeupdate"),q.dispatchEvent("seeked"),q.dispatchEvent("canplay"),q.dispatchEvent("canplaythrough")}function I(){F.ended&&(O(0),F.ended=!1),H=setInterval(N,q._util.TIMEUPDATE_MS),F.paused=!1,J&&(J=!1,(F.loop&&!W||!F.loop)&&(W=!0,q.dispatchEvent("play")),q.dispatchEvent("playing"))}function A(){q.dispatchEvent("progress")}function L(){F.paused=!0,J||(J=!0,clearInterval(H),q.dispatchEvent("pause"))}function R(){F.loop?(O(0),q.play()):(F.ended=!0,L(),g("play",l),E("play",I),q.dispatchEvent("timeupdate"),q.dispatchEvent("ended"))}function D(e){return F.muted=e,K?(C[e?"mute":"unMute"](),void q.dispatchEvent("volumechange")):void o(function(){D(F.muted)})}function U(){return F.muted}if(!t.postMessage)throw"ERROR: HTMLYouTubeVideoElement requires window.postMessage";var C,V,j,H,q=new e._MediaElementProto,Y="string"==typeof r?n.querySelector(r):r,B=n.createElement("div"),F={src:u,networkState:q.NETWORK_EMPTY,readyState:q.HAVE_NOTHING,seeking:!1,autoplay:u,preload:u,controls:!1,loop:!1,poster:u,volume:1,muted:!1,currentTime:0,duration:NaN,ended:!1,paused:!0,error:null},G=!1,K=!1,W=!1,J=!0,X=[],$=-1,z=0;return q._eventNamespace=e.guid("HTMLYouTubeVideoElement::"),q.parentNode=Y,q._util.type="YouTube",g("buffering",T),g("ended",R),q.play=function(){return F.paused=!1,K?void C.playVideo():void o(function(){q.play()})},q.pause=function(){return F.paused=!0,K?(p(),void C.pauseVideo()):void o(function(){q.pause()})},Object.defineProperties(q,{src:{get:function(){return F.src},set:function(e){e&&e!==F.src&&w(e)}},autoplay:{get:function(){return F.autoplay},set:function(e){F.autoplay=q._util.isAttributeSet(e)}},loop:{get:function(){return F.loop},set:function(e){F.loop=q._util.isAttributeSet(e)}},width:{get:function(){return q.parentNode.offsetWidth}},height:{get:function(){return q.parentNode.offsetHeight}},currentTime:{get:function(){return F.currentTime},set:function(e){O(e)}},duration:{get:function(){return F.duration}},ended:{get:function(){return F.ended}},paused:{get:function(){return F.paused}},seeking:{get:function(){return F.seeking}},readyState:{get:function(){return F.readyState}},networkState:{get:function(){return F.networkState}},volume:{get:function(){return F.volume},set:function(e){if(0>e||e>1)throw"Volume value must be between 0.0 and 1.0";return F.volume=e,K?(C.setVolume(100*F.volume),void q.dispatchEvent("volumechange")):void o(function(){q.volume=e})}},muted:{get:function(){return U()},set:function(e){D(q._util.isAttributeSet(e))}},error:{get:function(){return F.error}},buffered:{get:function(){var e={start:function(e){if(0===e)return 0;throw"INDEX_SIZE_ERR: DOM Exception 1"},end:function(e){if(0===e)return F.duration?F.duration*z:0;throw"INDEX_SIZE_ERR: DOM Exception 1"},length:1};return e},configurable:!0}}),q._canPlaySrc=e.HTMLYouTubeVideoElement._canPlaySrc,q.canPlayType=e.HTMLYouTubeVideoElement.canPlayType,q}var s=10,u="",d=/^.*(?:\/|v=)(.{11})/,c=Math.abs,l=!1,p=!1,f=[];e.HTMLYouTubeVideoElement=function(e){return new o(e)},e.HTMLYouTubeVideoElement._canPlaySrc=function(e){return/(?:http:\/\/www\.|http:\/\/|www\.|\.|^)(youtu).*(?:\/|v=)(.{11})/.test(e)?"probably":u},e.HTMLYouTubeVideoElement.canPlayType=function(e){return"video/x-youtube"===e?"probably":u}}(Popcorn,window,document);